(()=>{var t,e,n,r,o={758:()=>{const t=t=>(...e)=>{console.info(`${t} args=${JSON.stringify(e)}`)},e=function(){let t=[],e=location.pathname,n=null;const r=({match:t,onEnter:r})=>{const o={currentPath:e,previousPath:n,state:history.state};((t,e)=>t instanceof RegExp&&t.test(e)||"function"==typeof t&&t(e)||"string"==typeof t&&t===e)(t,e)&&r(o)},o=()=>t.forEach(r);return window.addEventListener("popstate",o),{on:(e,n)=>{const o=(()=>{const e=()=>Math.floor(Math.random()*t.length*1e3),n=e=>t.find((t=>t.id===e));let r=e();for(;n(r);)r=e();return r})(),a={id:o,match:e,onEnter:n};t.push(a),r(a)},go:(t,r)=>{n=e,history.pushState(r,t,t),e=location.pathname,o()}}}();e.on(/.*/,t("/.*")),e.on((t=>"/contacts"===t),t("/contacts")),e.on("/about",t("/about")),document.body.addEventListener("click",(t=>{if(!t.target.matches("a"))return;t.preventDefault();let n=t.target.getAttribute("href");e.go(n)}))},834:(t,e,n)=>{"use strict";function r(){const t=JSON.parse(localStorage.getItem("town"));null!==t&&function(t){const e=document.querySelector("aside");e.innerHTML="";const n=document.createElement("ul");t.forEach((t=>{const e=document.createElement("li");e.innerHTML=t,n.append(e)})),e.append(n)}(t)}function o(t){const e=localStorage.getItem("town");let n=[];const o=t[0].toUpperCase()+t.slice(1);null===e?(n.push(o),localStorage.setItem("town",JSON.stringify(n)),r()):(n=JSON.parse(e),10!==n.length?void 0===n.find((t=>t===o))&&(n.push(o),localStorage.setItem("town",JSON.stringify(n)),r()):(n.splice(0,1),n.push(o),localStorage.setItem("town",JSON.stringify(n)),r()))}n.d(e,{$o:()=>r,qQ:()=>o})},891:(t,e,n)=>{"use strict";n.a(t,(async(t,e)=>{try{n(758);var r=n(834);async function o(t){try{const e=`https://api.openweathermap.org/data/2.5/weather?${`q=${t}`}&units=metric&appid=fcc07198ebd405c615789afc7486fd29`,n=await fetch(e);return await n.json()}catch(t){console.error("Error:",t)}}function a(){const t=document.querySelector("#enterCity");null!==t&&t.addEventListener("submit",(async e=>{e.preventDefault();const n=t.querySelector("#city").value,a=await o(n);(0,r.qQ)(n),c(a)}))}function c(t){const e=document.querySelector(".result"),n=document.getElementById("map");if(null!==e){const n=document.createElement("img"),r="https://openweathermap.org/img/wn/",o=t.weather[0].icon;n.setAttribute("src",`${r}${o}.png`);const a=document.createElement("p");a.classList.add("text"),a.innerHTML=`Погода в \n    ${t.name} сейчас \n    ${Math.round(t.main.temp)} &deg;C`;const c=document.createElement("div");c.classList.add("flex"),c.insertAdjacentElement("beforeend",n),c.insertAdjacentElement("beforeend",a),e.innerHTML="",e.insertAdjacentElement("afterbegin",c)}var r,o;null!==n&&(n.innerHTML="",r=t.coord.lat,o=t.coord.lon,ymaps.ready((function(){new ymaps.Map("map",{center:[r,o],zoom:10})})))}async function s(t,e){try{const n=`lat=${t}`,r=`https://api.openweathermap.org/data/2.5/weather?${n}${`&lon=${e}`}&units=metric&appid=fcc07198ebd405c615789afc7486fd29`,o=await fetch(r);return await o.json()}catch(t){console.error("Error:",t)}}async function i(){try{const t=await new Promise(((t,e)=>{navigator.geolocation.getCurrentPosition((e=>{const n={latitude:e.coords.latitude,longitude:e.coords.longitude};t(n)}),(t=>{e(t)}))}));c(await s(t.latitude,t.longitude)),(0,r.$o)()}catch(t){console.error("Ошибка получения геопозиции:",t.message)}}document.querySelector(".head-row").querySelectorAll("a").forEach((t=>{let e=t.getAttribute("href");t.setAttribute("href","/weather/"+e)})),await a(),i(),e()}catch(u){e(u)}}),1)}},a={};function c(t){var e=a[t];if(void 0!==e)return e.exports;var n=a[t]={exports:{}};return o[t](n,n.exports,c),n.exports}t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=t=>{t&&t.d<1&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},c.a=(o,a,c)=>{var s;c&&((s=[]).d=-1);var i,u,l,d=new Set,p=o.exports,f=new Promise(((t,e)=>{l=e,u=t}));f[e]=p,f[t]=t=>(s&&t(s),d.forEach(t),f.catch((t=>{}))),o.exports=f,a((o=>{var a;i=(o=>o.map((o=>{if(null!==o&&"object"==typeof o){if(o[t])return o;if(o.then){var a=[];a.d=0,o.then((t=>{c[e]=t,r(a)}),(t=>{c[n]=t,r(a)}));var c={};return c[t]=t=>t(a),c}}var s={};return s[t]=t=>{},s[e]=o,s})))(o);var c=()=>i.map((t=>{if(t[n])throw t[n];return t[e]})),u=new Promise((e=>{(a=()=>e(c)).r=0;var n=t=>t!==s&&!d.has(t)&&(d.add(t),t&&!t.d&&(a.r++,t.push(a)));i.map((e=>e[t](n)))}));return a.r?u:c()}),(t=>(t?l(f[n]=t):u(p),r(s)))),s&&s.d<0&&(s.d=0)},c.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return c.d(e,{a:e}),e},c.d=(t,e)=>{for(var n in e)c.o(e,n)&&!c.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},c.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),c(891)})();
//# sourceMappingURL=main-4c568675adeda518fe69.js.map